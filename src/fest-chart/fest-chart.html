<link rel="import" href="../utilities/imports.html">
<link rel="import" href="../mini-chart/mini-chart.html">
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/d3-tip/index.js">
<link rel="import" href="../../bower_components/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html">


<dom-module id="fest-chart">
    <link rel="import" type="css" href="fest-chart-styles.css">

    <template>
        <div id="test" class="content-container">
            <div class="token-container">
                <div class="token-text">Fest</div>
            </div>
            <div style="width:300px">
                <mini-chart id="chart" legend-names="Fest-Zins,Wirtschaft" legend-colors="#23A392,#FAC100" bar-data="/src/fest-chart/mini-charts.csv" base-rate-data="/src/fest-chart/base-rate.csv"></mini-chart>
            </div>
            <div class="text-container">
                <div class="detailName">Zinssatz:
                    <span class="detailText">Fest</span>
                </div>

                <div class="detailName">Dauer:
                    <span class="detailText">2-6 Jahre</span>
                </div>

                <div class="detailName">Vorteil:
                    <span class="detailText">Langfristige Planung, Sicherheit</span>
                </div>
            </div>
        </div>
    </template>

    <script>
        Polymer({
            is: 'fest-chart',
            behaviors: [
                Polymer.IronA11yKeysBehavior
            ],
            properties: {
                keyEventTarget: {
                    type: Object,
                    value: function() {
                        return document.body;
                    }
                },
                margin: Object,
                width: Object,
                x1: Object,
                x0: Object,
                y: Object,
                z: Object,
                svg: Object,
                details: Object,
            },
            ready: function () {
            },
            keyBindings: {
                '* pageup pagedown left right down up home end space enter @ ~ " $ ? ! \\ + : # backspace': '_updatePressed',
                'w': '_changeScenarioA',
                's': '_changeScenarioB',
                'shift+tab shift+space': '_updatePressed'
            },
            _changeScenarioA: function () {
                var chart = this.$.chart;
                chart.changeScenario("/src/fest-chart/mini-charts.csv","/src/fest-chart/base-rate-negative.csv");
            },
            _changeScenarioB: function () {
                var chart = this.$.chart;
                chart.changeScenario("/src/fest-chart/mini-charts.csv","/src/fest-chart/base-rate.csv");
            }
        });
    </script>
</dom-module>
